<html>
    <head>
        <title>Eye tracking practical</title>

        <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">

        <style>
            html {
                font-family: tahoma;
            }
            h1 {
                text-align: center;
            }
            .text {
                display: none;
            }
        </style>

        <!-- xLabs API -->
        <script src="xlabs/api/xlabs.js"></script>

        <script>
            // check for presence of browser extension
            window.onload = function () {
                if (xLabs.extensionVersion() === null) {
                    document.write("<h2>Error</h2>This webpage must be viewed in Google Chrome and <a href=\"https://chrome.google.com/webstore/detail/xlabs-headeyegaze-tracker/emeeadaoegehllidjmmokeaahobondco?hl=en\">the xLabs Chrome extension</a> must be installed.")
                } else {
                    var el = get_text_el(texti);
                    if (el === null) {
                        texti = 0;
                        get_text_el(0).style.display = "inline";
                    } else {
                        el.style.display = "inline";
                    }
                }
            }

            var texti = getUrlVars()['index'];
            var textmax = 1;
            function text_prev() {
                if (texti > 0) {
                    var cur = get_text_el(texti);
                    cur.style.display = "none";

                    var prev = get_text_el(--texti);
                    prev.style.display = "inline";
                }
            }

            function text_next() {
                if (texti < textmax) {
                    var cur = get_text_el(texti);
                    cur.style.display = "none";

                    var next = get_text_el(++texti);
                    next.style.display = "inline";
                }
            }

            function get_text_el(i) {
                return document.getElementById("text" + i);
            }

            function getUrlVars() {
                var vars = {};
                var addr = window.location.href;
                var ind = addr.lastIndexOf("#");
                if (ind !== -1) {
                    addr = addr.substr(0, ind);
                }
                addr.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                    vars[key] = value;
                });
                return vars;
            }
        </script>
    </head>
    <body>
        <h1>Eye tracking practical</h1>

        <div style="width: 40%; margin: 0px auto; border: dashed;">
            <p>
                <span class="text" id="text0">Welcome to the University of Sussex eye tracking practical. Click next to continue.</span>
                <span class="text" id="text1">Click <a href="xlabs/ants/index.html">here</a> to run the first calibration game.</span>
            </p>

            <div style="text-align: center;">
                <a href="#" onclick="text_prev();">Previous</a> | 
                <a href="#" onclick="text_next();">Next</a>
            </div>
        </div>
    </body>
</html>